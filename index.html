<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SA Exam Master (Mobile Study)</title>
    <style>
        :root {
            --bg-app: #121212;
            --bg-card: #1e1e1e;
            --bg-inset: #252525;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --accent: #64b5f6; /* Soft Blue */
            --accent-dim: rgba(100, 181, 246, 0.15);
            --success: #81c784;
            --warning: #ffb74d;
            --border: #333333;
            --nav-height: 60px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg-app);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            padding-bottom: 80px; /* Space for bottom nav */
            overflow-x: hidden; /* Prevent page drift */
        }

        /* --- Utilities --- */
        .container { padding: 16px; max-width: 600px; margin: 0 auto; }
        .hidden { display: none !important; }
        
        /* --- Header --- */
        header {
            padding: 20px 16px;
            background: var(--bg-app);
            position: sticky;
            top: 0;
            z-index: 50;
            border-bottom: 1px solid var(--border);
        }
        h1 { font-size: 1.5rem; color: var(--accent); margin-bottom: 4px; }
        .subtitle { font-size: 0.8rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; }

        /* --- Search --- */
        .search-wrapper {
            margin-top: 10px;
            position: relative;
        }
        .search-bar {
            width: 100%;
            background: var(--bg-inset);
            border: 1px solid var(--border);
            padding: 12px;
            border-radius: 8px;
            color: white;
            font-size: 16px; /* Prevents iOS zoom */
        }
        .search-bar:focus { outline: 2px solid var(--accent); border-color: transparent; }

        /* --- Card Design --- */
        .card {
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .card-header {
            padding: 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: start;
        }
        
        .q-title { font-weight: 700; font-size: 1.1rem; color: white; margin-bottom: 4px; }
        .q-tags { display: flex; gap: 8px; font-size: 0.75rem; color: var(--accent); font-family: monospace; }
        
        .card-body { padding: 16px; }

        /* --- Diagrams (The Fix) --- */
        .diagram-container {
            background: var(--bg-inset);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            text-align: center;
            border: 1px solid var(--border);
            overflow-x: auto; /* Allows diagram to scroll internally */
        }
        
        svg {
            max-width: 100%;
            height: auto;
            min-width: 250px; /* Ensures SVG doesn't get crushed */
        }
        
        /* Ensure Diagram Lines are Visible */
        svg path, svg line, svg rect, svg circle, svg polygon {
            stroke: var(--text-primary);
            stroke-width: 2;
            fill: none;
        }
        svg text {
            fill: var(--text-primary);
            font-family: sans-serif;
            font-size: 12px;
        }
        /* Accent colors in SVG */
        .svg-accent { stroke: var(--accent) !important; fill: var(--accent) !important; stroke-width: 0 !important; }
        .svg-dashed { stroke-dasharray: 5,5; }

        /* --- Content Sections --- */
        .definition {
            font-size: 1.05rem;
            border-left: 3px solid var(--accent);
            padding-left: 12px;
            margin-bottom: 16px;
            background: linear-gradient(90deg, var(--accent-dim), transparent);
            padding: 10px;
            border-radius: 0 4px 4px 0;
        }

        .mnemonic-chip {
            display: inline-block;
            background: var(--warning);
            color: #000;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .bullet-points ul { padding-left: 20px; color: var(--text-secondary); }
        .bullet-points li { margin-bottom: 8px; }
        .bullet-points strong { color: var(--text-primary); }

        /* --- Bottom Navigation --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: var(--nav-height);
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 100;
            box-shadow: 0 -4px 10px rgba(0,0,0,0.5);
        }

        .nav-item {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 0.7rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px;
            width: 33%;
        }
        .nav-item.active { color: var(--accent); }
        .nav-icon { font-size: 1.2rem; }

        /* --- Drawer/TOC --- */
        .drawer {
            position: fixed;
            bottom: var(--nav-height);
            left: 0;
            width: 100%;
            height: calc(70vh - var(--nav-height));
            background: var(--bg-card);
            border-radius: 20px 20px 0 0;
            z-index: 90;
            transform: translateY(110%);
            transition: transform 0.3s ease;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }
        .drawer.open { transform: translateY(0); }
        .drawer-header {
            padding: 16px;
            text-align: center;
            font-weight: bold;
            border-bottom: 1px solid var(--border);
        }
        .drawer-content { overflow-y: auto; padding: 16px; flex: 1; }
        .toc-link {
            display: block;
            padding: 12px;
            border-bottom: 1px solid var(--border);
            color: var(--text-secondary);
            text-decoration: none;
        }
        .toc-link:active { color: var(--accent); background: var(--bg-inset); }

    </style>
</head>
<body>

    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#e0e0e0" />
            </marker>
        </defs>
    </svg>

    <header>
        <h1>SA Exam Master</h1>
        <div class="subtitle">7th Sem ‚Ä¢ RGPV ‚Ä¢ Complete Notes</div>
        <div class="search-wrapper">
            <input type="text" id="search" class="search-bar" placeholder="Search topics..." onkeyup="filterContent()">
        </div>
    </header>

    <div class="container" id="content-area">
        </div>

    <div style="height: 20px;"></div>

    <div class="drawer" id="tocDrawer">
        <div class="drawer-header">
            Table of Contents
            <span style="float:right; color:var(--accent);" onclick="toggleDrawer()">Close</span>
        </div>
        <div class="drawer-content" id="tocList"></div>
    </div>

    <nav class="bottom-nav">
        <button class="nav-item active" onclick="scrollToTop()">
            <span class="nav-icon">üè†</span>
            <span>Home</span>
        </button>
        <button class="nav-item" onclick="toggleDrawer()">
            <span class="nav-icon">üìë</span>
            <span>Topics</span>
        </button>
        <button class="nav-item" onclick="toggleCheatSheet()">
            <span class="nav-icon">‚ö°</span>
            <span>CheatSheet</span>
        </button>
    </nav>

<script>
/* --- DATA --- */
const questions = [
    {
        id: 1,
        title: "Evolution of Software Architecture",
        tags: ["M.C.D.S.", "Basics"],
        def: "From Monoliths (Mainframes) to Microservices (Cloud). Driven by the need for scale.",
        mnemonic: "M.C.D.S. (Monolith > Client-Server > Distributed > SOA)",
        svg: `<svg viewBox="0 0 320 100">
                <rect x="10" y="30" width="60" height="40" rx="4"/><text x="40" y="55" text-anchor="middle">Mono</text>
                <line x1="70" y1="50" x2="100" y2="50" marker-end="url(#arrow)"/>
                <rect x="100" y="30" width="60" height="40" rx="4"/><text x="130" y="55" text-anchor="middle">C-S</text>
                <line x1="160" y1="50" x2="190" y2="50" marker-end="url(#arrow)"/>
                <rect x="190" y="30" width="60" height="40" rx="4"/><text x="220" y="55" text-anchor="middle">Distr</text>
                <line x1="250" y1="50" x2="280" y2="50" marker-end="url(#arrow)"/>
                <text x="300" y="55" text-anchor="middle" fill="#64b5f6" font-weight="bold">Micro</text>
              </svg>`,
        points: [
            "<strong>Monolithic:</strong> Single unit. Hard to scale. Single point of failure.",
            "<strong>Client-Server:</strong> Split UI and Data. (2-Tier / 3-Tier).",
            "<strong>Distributed:</strong> Components on different machines.",
            "<strong>Microservices:</strong> Independent, loosely coupled services."
        ]
    },
    {
        id: 2,
        title: "ISO 9126 Quality Model",
        tags: ["FRUEMP", "Quality"],
        def: "Standard for evaluating software quality using 6 key characteristics.",
        mnemonic: "FRUEMP (Func, Rel, Use, Eff, Main, Port)",
        svg: `<svg viewBox="0 0 320 80">
                <rect x="110" y="5" width="100" height="25"/><text x="160" y="22" text-anchor="middle">ISO 9126</text>
                <line x1="160" y1="30" x2="160" y2="45"/>
                <line x1="20" y1="45" x2="300" y2="45"/>
                <line x1="20" y1="45" x2="20" y2="60"/><text x="20" y="75" text-anchor="middle">F</text>
                <line x1="76" y1="45" x2="76" y2="60"/><text x="76" y="75" text-anchor="middle">R</text>
                <line x1="132" y1="45" x2="132" y2="60"/><text x="132" y="75" text-anchor="middle">U</text>
                <line x1="188" y1="45" x2="188" y2="60"/><text x="188" y="75" text-anchor="middle">E</text>
                <line x1="244" y1="45" x2="244" y2="60"/><text x="244" y="75" text-anchor="middle">M</text>
                <line x1="300" y1="45" x2="300" y2="60"/><text x="300" y="75" text-anchor="middle">P</text>
              </svg>`,
        points: [
            "<strong>Functionality:</strong> Suitability, Security.",
            "<strong>Reliability:</strong> Fault tolerance, Recoverability.",
            "<strong>Usability:</strong> Learnability, Operability.",
            "<strong>Efficiency:</strong> Resource behavior, Time behavior.",
            "<strong>Maintainability:</strong> Testability, Changeability.",
            "<strong>Portability:</strong> Installability."
        ]
    },
    {
        id: 3,
        title: "Architecture Business Cycle (ABC)",
        tags: ["Feedback Loop"],
        def: "The loop where Business Goals drive Architecture, and the System creates new Goals.",
        mnemonic: "Org -> Arch -> System -> Org",
        svg: `<svg viewBox="0 0 300 100">
                <rect x="10" y="10" width="80" height="30"/><text x="50" y="30" text-anchor="middle">Goals</text>
                <line x1="90" y1="25" x2="120" y2="25" marker-end="url(#arrow)"/>
                <rect x="120" y="10" width="80" height="30" stroke="#64b5f6"/><text x="160" y="30" text-anchor="middle">Arch</text>
                <line x1="200" y1="25" x2="230" y2="25" marker-end="url(#arrow)"/>
                <rect x="230" y="10" width="60" height="30"/><text x="260" y="30" text-anchor="middle">Sys</text>
                <path d="M 260 40 Q 150 90 50 40" fill="none" stroke-dasharray="5,5" marker-end="url(#arrow)"/>
                <text x="150" y="80" text-anchor="middle" font-size="10" fill="#a0a0a0">Feedback Loop</text>
              </svg>`,
        points: [
            "<strong>Input:</strong> Stakeholders, Tech Environment, Organization.",
            "<strong>Output:</strong> The System.",
            "<strong>Feedback:</strong> The system changes the organization (e.g., Amazon Books -> AWS Cloud)."
        ]
    },
    {
        id: 6,
        title: "Pipes and Filters",
        tags: ["Data Flow"],
        def: "Data flows through independent processing steps (Filters) connected by buffers (Pipes).",
        mnemonic: "Stream Processing",
        svg: `<svg viewBox="0 0 300 60">
                <rect x="10" y="15" width="60" height="30"/><text x="40" y="35" text-anchor="middle">Input</text>
                <line x1="70" y1="30" x2="110" y2="30" marker-end="url(#arrow)"/>
                <text x="90" y="20" text-anchor="middle" font-size="10">Pipe</text>
                <rect x="110" y="15" width="80" height="30"/><text x="150" y="35" text-anchor="middle">Filter</text>
                <line x1="190" y1="30" x2="230" y2="30" marker-end="url(#arrow)"/>
                <text x="210" y="20" text-anchor="middle" font-size="10">Pipe</text>
                <rect x="230" y="15" width="60" height="30"/><text x="260" y="35" text-anchor="middle">Output</text>
              </svg>`,
        points: [
            "<strong>Filter:</strong> Independent data transformer. No shared state.",
            "<strong>Pipe:</strong> Data buffer/conduit.",
            "<strong>Example:</strong> Unix Shell (ls | grep), Compilers."
        ]
    },
    {
        id: 7,
        title: "REST Constraints",
        tags: ["SCCLUC", "Web"],
        def: "Architectural style for distributed hypermedia systems.",
        mnemonic: "SCCLUC",
        svg: `<svg viewBox="0 0 300 80">
                <rect x="20" y="20" width="60" height="40"/><text x="50" y="45" text-anchor="middle">Client</text>
                <line x1="80" y1="40" x2="120" y2="40"/>
                <rect x="120" y="20" width="60" height="40" stroke-dasharray="5,5"/><text x="150" y="45" text-anchor="middle">Cache</text>
                <line x1="180" y1="40" x2="220" y2="40" marker-end="url(#arrow)"/>
                <rect x="220" y="20" width="60" height="40"/><text x="250" y="45" text-anchor="middle">Server</text>
                <text x="150" y="75" text-anchor="middle" fill="#64b5f6" font-size="10">Stateless Communication</text>
              </svg>`,
        points: [
            "<strong>S</strong>tateless: No session on server.",
            "<strong>C</strong>lient-Server: Separation of concerns.",
            "<strong>C</strong>acheable: Responses defined as cacheable.",
            "<strong>L</strong>ayered: Load balancers allowed.",
            "<strong>U</strong>niform Interface: Standard API.",
            "<strong>C</strong>ode on Demand: Optional (JS)."
        ]
    },
    {
        id: 9,
        title: "Microservices",
        tags: ["Distributed", "Modern"],
        def: "Application as a collection of loosely coupled services.",
        mnemonic: "Indep. Deploy & DB",
        svg: `<svg viewBox="0 0 300 120">
                <rect x="110" y="5" width="80" height="30"/><text x="150" y="25" text-anchor="middle">Gateway</text>
                <line x1="130" y1="35" x2="80" y2="55" marker-end="url(#arrow)"/>
                <line x1="170" y1="35" x2="220" y2="55" marker-end="url(#arrow)"/>
                <rect x="50" y="55" width="60" height="30"/><text x="80" y="75" text-anchor="middle">Svc A</text>
                <circle cx="80" cy="100" r="10"/><text x="80" y="104" text-anchor="middle" font-size="8">DB</text>
                <rect x="190" y="55" width="60" height="30"/><text x="220" y="75" text-anchor="middle">Svc B</text>
                <circle cx="220" cy="100" r="10"/><text x="220" y="104" text-anchor="middle" font-size="8">DB</text>
              </svg>`,
        points: [
            "<strong>Database per Service:</strong> Decoupled data.",
            "<strong>Independently Deployable:</strong> Update one without stopping others.",
            "<strong>Polyglot:</strong> Use different languages.",
            "<strong>Cons:</strong> Complexity, Eventual Consistency."
        ]
    },
    {
        id: 14,
        title: "MVC Pattern",
        tags: ["UI Pattern"],
        def: "Separates internal representation from user presentation.",
        mnemonic: "Model-View-Controller",
        svg: `<svg viewBox="0 0 250 120">
                <rect x="95" y="10" width="60" height="30"/><text x="125" y="30" text-anchor="middle">Model</text>
                <line x1="125" y1="40" x2="60" y2="70" marker-end="url(#arrow)" stroke-dasharray="5,5"/>
                <rect x="20" y="70" width="60" height="30"/><text x="50" y="90" text-anchor="middle">View</text>
                <rect x="170" y="70" width="60" height="30"/><text x="200" y="90" text-anchor="middle">Ctrl</text>
                <line x1="200" y1="70" x2="155" y2="30" marker-end="url(#arrow)"/>
                <text x="125" y="60" text-anchor="middle" font-size="10">Updates</text>
              </svg>`,
        points: [
            "<strong>Model:</strong> Data & Logic. Independent.",
            "<strong>View:</strong> UI Display. Observes Model.",
            "<strong>Controller:</strong> Handles Input. Updates Model."
        ]
    },
    {
        id: 19,
        title: "ATAM (Evaluation)",
        tags: ["Risk Analysis"],
        def: "Architecture Tradeoff Analysis Method.",
        mnemonic: "Risk / Tradeoff / Sensitivity",
        svg: `<svg viewBox="0 0 300 60">
                <rect x="10" y="15" width="60" height="30"/><text x="40" y="35" text-anchor="middle">Arch</text>
                <line x1="70" y1="30" x2="110" y2="30"/>
                <text x="90" y="25" text-anchor="middle" font-size="10">+</text>
                <rect x="110" y="15" width="60" height="30"/><text x="140" y="35" text-anchor="middle">Scenes</text>
                <line x1="170" y1="30" x2="210" y2="30" marker-end="url(#arrow)"/>
                <rect x="210" y="15" width="80" height="30" stroke="#ffb74d"/><text x="250" y="35" text-anchor="middle">Risks</text>
              </svg>`,
        points: [
            "Evaluates architecture against <strong>Quality Scenarios</strong>.",
            "<strong>Outputs:</strong> Risks, Trade-offs, Sensitivity Points.",
            "Does not fix the architecture, just finds issues."
        ]
    }
];

/* --- RENDER LOGIC --- */

function renderContent() {
    const container = document.getElementById('content-area');
    const tocList = document.getElementById('tocList');
    
    container.innerHTML = '';
    tocList.innerHTML = '';

    questions.forEach(q => {
        // Render Card
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
            <div class="card-header">
                <div>
                    <div class="q-title">Q${q.id}: ${q.title}</div>
                    <div class="q-tags">${q.tags.map(t => `<span>#${t}</span>`).join('')}</div>
                </div>
            </div>
            <div class="card-body">
                <div class="definition">
                    ${q.def}
                </div>
                
                ${q.mnemonic ? `<div class="mnemonic-chip">üß† ${q.mnemonic}</div>` : ''}

                <div class="diagram-container">
                    ${q.svg}
                </div>

                <div class="bullet-points">
                    <ul>${q.points.map(p => `<li>${p}</li>`).join('')}</ul>
                </div>
            </div>
        `;
        container.appendChild(card);

        // Render TOC
        const link = document.createElement('a');
        link.className = 'toc-link';
        link.innerText = `Q${q.id}: ${q.title}`;
        link.href = '#';
        link.onclick = (e) => {
            e.preventDefault();
            toggleDrawer();
            card.scrollIntoView({behavior: 'smooth', block: 'start'});
        };
        tocList.appendChild(link);
    });
}

/* --- INTERACTIONS --- */

function filterContent() {
    const term = document.getElementById('search').value.toLowerCase();
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        if(text.includes(term)) {
            card.classList.remove('hidden');
        } else {
            card.classList.add('hidden');
        }
    });
}

function toggleDrawer() {
    document.getElementById('tocDrawer').classList.toggle('open');
}

function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function toggleCheatSheet() {
    // Quick alert for now, could be a modal
    alert("Cheat Sheet Mode: \n1. M.C.D.S (Evolution)\n2. FRUEMP (Quality)\n3. SCCLUC (REST)\n4. ABC (Feedback Loop)");
}

// Init
renderContent();

</script>
</body>
</html>
